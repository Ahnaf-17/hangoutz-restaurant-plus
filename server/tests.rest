@base = http://localhost:8080
@adminEmail = admin@gmail.com
@adminPass = admin123

### 1) Login (gets a fresh JWT)
# @name login
POST {{base}}/api/auth/login
Content-Type: application/json

{
  "email": "{{adminEmail}}",
  "password": "{{adminPass}}"
}

### 2) Verify role is admin
GET {{base}}/api/users/me
Authorization: Bearer {{login.response.body.token}}

### 3) List my orders (fresh)
# @name orders
GET {{base}}/api/orders/my
Authorization: Bearer {{login.response.body.token}}
Cache-Control: no-cache

@orderId = {{orders.response.body.$[0]._id}}




### 4) Update order status (staff/admin only)
PUT {{base}}/api/orders/{{orderId}}/status
Authorization: Bearer {{login.response.body.token}}
Content-Type: application/json

{
  "status": "completed"
}